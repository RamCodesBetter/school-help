<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Grade Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Canvas Grade Calculator</h1>
        <div class="theme-toggle">
            <button id="themeToggle" aria-label="Toggle dark mode">
                <span class="theme-icon">ðŸŒ™</span>
            </button>
        </div>
        <div class="instructions">
            <h2>How to Use</h2>
            <ol>
                <li>Go to your Canvas course</li>
                <li>Click on "Assignments" in the left sidebar</li>
                <li>Click on "Show By Type" in the top right corner</li>
                <li>Select all content on the page (CTRL+A or &#8984;+A)</li>
                <li>Copy the selected content (CTRL+C or &#8984;+C)</li>
                <li>Paste into the textbox below (CTRL+V or &#8984;+V)</li>
                <li>Select the grading scale you want to use</li>
                <li>Click "Process Canvas Grades"</li>
            </ol>
            <p class="tip">ðŸ’¡ Tip: Click on category names to expand/collapse assignment lists</p>
        </div>
        <div class="calculator">
            <div class="paste-area">
                <textarea id="canvasPaste" placeholder="Paste your Canvas assignments page here..."></textarea>
                <button id="processPaste">Process Canvas Grades</button>
            </div>
            <div class="grading-scale-selector">
                <div>
                    <h3>Select Grading Scale</h3>
                    <select id="gradingScale">
                        <option value="all">All Grades (A, A-, B+, etc.)</option>
                        <option value="noMinus">No Minuses (A, B+, B, etc.)</option>
                        <option value="simple">Simple (A, B, C, D, F)</option>
                    </select>
                </div>
            </div>
            <div class="left-section">
                <button id="addAssignment">Add Assignment</button>
                <div id="categorySummaries"></div>
            </div>
            <div class="right-section">
                <div class="results">
                    <h2>Total Grade</h2>
                    <span id="totalGrade">0% (F)</span>
                </div>
                <div class="grade-prediction">
                    <h2>Grade Predictions</h2>
                    <div class="scenario-controls">
                        <button id="newScenario" aria-label="Create new what-if scenario">
                            New Scenario
                        </button>
                        <select id="scenarioSelect" aria-label="Select saved scenario">
                            <option value="">Select Scenario</option>
                        </select>
                    </div>
                    <div class="prediction-stats">
                        <div class="stat-item">
                            <span class="stat-label">Minimum Grade Needed:</span>
                            <span id="minGradeNeeded">--%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Projected Final Grade:</span>
                            <span id="projectedGrade">--%</span>
                        </div>
                    </div>
                    <div id="scenarioContainer"></div>
                </div>
                <div class="grade-analytics">
                    <h2>Grade Analytics</h2>
                    <div class="analytics-grid">
                        <div class="stat-item">
                            <span class="stat-label">Average Grade</span>
                            <span id="averageGrade">--%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Highest Grade</span>
                            <span id="highestGrade">--%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Lowest Grade</span>
                            <span id="lowestGrade">--%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Grade Trend</span>
                            <span id="gradeTrend">--</span>
                        </div>
                    </div>
                    <div class="grade-history">
                        <h3>Assignment History</h3>
                        <div id="historyContainer"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="gradeCalculator.js"></script>
</body>
</html>